<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Virtual Reality Space Debris App - Kevin Campbell</title>
  <style>
    body {
      margin: 0;
    }

    canvas {
      display: block;
    }
  </style>
</head>

<body>
  <script src="three.min.js"></script>
  <script src='OrbitControls.js'></script>
  <script src="Skybox.js"></script>
  <script src="Earth.js"></script>
  <script src="Spacedebris.js"></script>
  <script src="Moon.js"></script>
  <script src="Sun.js"></script>
  <script src='orb-core.v2.js'></script>
  <script src='orb-satellite.v2.js'></script>
  <script>
    // Update Viewport - Allows for the window to be resized without causing the scene to change
    window.addEventListener( 'resize', function( )
{
    var width = window.innerWidth;
    var height = window.innerHeight;
    renderer.setSize( width, height );
    camera.aspect = width/height;
    camera.updateProjectionMatrix( );
} );

var render = function(){

// Take in TLE & Produce x,y,z
const tle = {
    "first_line":  "1 25544U 98067A   20187.34541214  .00002866  00000-0  59793-4 0  9991",
    "second_line": "2 25544  51.6454 258.5877 0002990  76.8215 328.5773 15.49181247234835"
  }
  
  const satellite = new Orb.SGP4(tle);
  
  window.setInterval(function(){
  
    let date= new Date();
  
    let xyz = satellite.xyz(date);
  
  var xArray = [x];
  console.log('xArray =', xArray);
  console.log('x =', x);
  console.log('y =', y);
  console.log('z =', z);
  console.log('xdot =', xdot);
  console.log('ydot =', ydot);
  console.log('zdot =', zdot);
  console.log('xyz =', date);
    // Create Cube
    var geometry = new THREE.BoxGeometry(100,100,100);
  var material = new THREE.MeshBasicMaterial({color:0x00ff44});
  var mesh  = new THREE.Mesh(geometry, material);
  scene.add(mesh);

  mesh.position.x = x;
  mesh.position.y = y;
  mesh.position.z = z;
  },1000);


}
render();
  </script>

</body>

</html>
